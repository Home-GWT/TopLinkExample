
#Sybase PowerDesigner

* [Проектирование БД](http://www.sql.ru/forum/483726/vse-voprosy-po-sybase-powerdesigner-pd-chast-3) 
**(** [PowerDesigner](https://www.sybase.ru/products/powerdesigner) **|** [novye_vozmozhnosti_pd_16_5](novye_vozmozhnosti_pd_16_5.pdf) **)**
* [PowerDesigner](novye_vozmozhnosti_pd_16_5.pdf) **(** [pd_bpm_29-06-2005](pd_bpm_29-06-2005.pdf) **)**
* [PowerDesigner Web](pdweb_ru.pdf)

#Spring Data
* `Spring Data JPA` — банковская система управления клиентами: **(** [Часть 1](http://devcolibri.com/3966) **|** [Часть 2](http://devcolibri.com/4149) **)**
* `Spring Data JPA` — [пример приложения Hello World](http://javastudy.ru/spring-data-jpa/spring-data-jpa-helloworld/) **(** [Hello World](http://javastudy.ru/wp-content/uploads/2015/10/Spring-Data-JPA-Hello-World.rar) **|** [SQL](http://javastudy.ru/wp-content/uploads/2015/10/Spring-Data-JPA-helloWorld-SQL.rar) **)**



В `resources` есть файл **app.properties**
```properties
#DB properties:
db.driver=com.mysql.jdbc.Driver
db.url=jdbc:mysql://localhost:3306/testdb
db.username=root
db.password=root
 
#Hibernate Configuration:
db.hibernate.dialect=org.hibernate.dialect.MySQLDialect
db.hibernate.show_sql=true
db.entitymanager.packages.to.scan=com.devcolibri.dataexam.entity
db.hibernate.hbm2ddl.auto = create
```

######Разберем аннотации:
> **@Configuration** — говорит, что данный класс является Spring конфигурацией;
> **@ComponentScan**("com.devcolibri.dataexam") — указываем Spring где нужно искать Entity, DAO, Service и т.п.;
> **@PropertySource**("classpath:app.properties") — подключаем файл свойств созданный выше;

- **@EnableTransactionManagement** — включает TransactionManager для управления транзакциями БД;
- **@EnableJpaRepositories**("com.devcolibri.dataexam.repository") — включаем возможность использования JPARepository и говорим, где их искать. (будем рассматривать позже детальней);

<!-- Have Spring servlet handle all static content -->
<mvc:annotation-driven/>

<!--@Transaction annotation support -->
<tx:annotation-driven transaction-manager="transactionManager"/>

<!--Activates various annotations to be detected in bean classes: Spring's @Required and @Autowired and so on-->
<context:annotation-config/>

```java
   /**
    * mappedBy - свойство в ContactTelDetailEntity, связанное с внешнем ключом в этой таблице
    *  cascade - операция обновления должна распространяться на дочерние записи
    *  orphanRemoval - после обновления, записи которых больше нет в наборе должны быть удалены из БД
    */
    @OneToMany(mappedBy = "contact", cascade = CascadeType.ALL, orphanRemoval = true)
    public Set<ContactTelDetailEntity> getContactTelDetailEntities() {
        return contactTelDetailEntities;
    }
```

```java
	@ManyToOne
	@JoinTable(name = "contact_hobby_detail",
			//foreign key for ContactEntity in contact_hobby_detail table
			joinColumns = @JoinColumn(name = "contact_id"),
			//key for other side - hobby table
			inverseJoinColumns = @JoinColumn(name = "hobby_id"))
	public Set<HobbyEntity> getHobbies() {
		//TODO
    }
```


Одной из основных концепций Spring Data является абстракция `@Repository`.
Эта абстракция репозитория представляет собой оболочку вокруг базового интерфейса JPA EntityManager и предлагает более широкие возможности для доступа к данным.

- **CrudRepository** — центральный интерфейс из Spring Data. Наследовавшись от *org.springframework.data.repository.CrudRepository* вы получили возможность вызывать такие методы как (без необходимости реализовывать их имплементировать):

> save
>
> findOne
>
> exists
>
> findAll
>
> count
>
> delete
>
> deleteAll






Доменный слой
DAO слой
Сервисный слой





















